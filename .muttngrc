# ~/.muttrc
# Matt Sparks (http://f0rked.com)
# $Date$

# Mail Folder
set folder = ~/Maildir     # Directory that contains all mail files (mailboxes)
set spoolfile = +inbox     # Default spoolfile
set mbox = +inbox          # Where mail is appended to from spoolfile
set mbox_type = Maildir    # Type of mail files
set postponed = +unsent    # Where to save postponed mail
set copy = yes             # Save copies of outgoing mail?
set record = +sent         # Where to save copies of outgoing mail 

# NNTP stuff
source ~/.muttngrc.nntp

# Formatting
set date_format = "%Y-%m-%d  %H:%M   "
set index_format = "%4C %Z %d %-32.32L   %s"
set folder_format = "%2C %3N %2l %-8.8u %-8.8g %8s %d %f"
set status_format = ">> Mutt: (%r) mb(%b) %f: new(%n)/total(%m) [%l]     del(%d) %> (%P)"

# Personal options
set hostname = "f0rked.com"
set realname = "Matt Sparks"
set signature = ~/.signature
#set sendmail="/usr/bin/nbsmtp -s -D -h f0rked.com"
set sendmail="/usr/sbin/sendmail"
alternates (.*@f0rked.com|.*@friedhosting.com|.*@frkd.com|f0rked@nullirc.net|jsparks2@uiuc.edu)

set use_from = no
# default from header
my_hdr From: "Matt Sparks" <root@f0rked.com>
# from header macros -- switch to another alias with ^N,#
macro index \Cn1 "!echo 'switched to root@f0rked.com'\n:my_hdr From: Matt Sparks <root@f0rked.com>\n"
macro pager \Cn1 "!echo 'switched to root@f0rked.com'\n:my_hdr From: Matt Sparks <root@f0rked.com>\n"
macro index \Cn2 "!echo 'switched to matt@friedhosting.com'\n:my_hdr From: FriedHosting Staff <matt@friedhosting.com>\n"
macro pager \Cn2 "!echo 'switched to matt@friedhosting.com'\n:my_hdr From: FriedHosting Staff <matt@friedhosting.com>\n"
macro index \Cn3 "!echo 'switched to jsparks2@uiuc.edu'\n:my_hdr From: Matt Sparks <jsparks2@uiuc.edu>\n"
macro pager \Cn3 "!echo 'switched to jsparks2@uiuc.edu'\n:my_hdr From: Matt Sparks <jsparks2@uiuc.edu>\n"

# Quickly change to my favorite folders
macro index  I      "c!\n" "Go to inbox"
macro pager  I      "c!\n" "Go to inbox"

macro browser,attach P      "s/tmp/mutt_attach\no!scp /tmp/mutt_attach xi.f0rked.com:"

# Aliases (address book)
set alias_file = ~/.mutt-aliases
source ~/.mutt-aliases
set reverse_alias       # Show real name instead of e-mail address in index
set sort_alias = alias  # Sort aliases by alias name not email address

# Prune the headers!
ignore * # Ignore all header info
unignore subject 
unignore to 
unignore from: 
unignore date
unignore CC

# run fetchmail by hitting key of G
macro index G "!fetchmail\n"
macro pager G "!fetchmail\n"

bind pager <Up> previous-line
bind pager <Down> next-line

hdr_order Date: To: CC: From: Subject:

## Mailboxes
mailboxes =inbox
mailboxes =archive
mailboxes =old
mailboxes =fh
mailboxes =logs
mailboxes =luci
mailboxes =ebay
mailboxes =spam
mailboxes =uiuc
mailboxes =ipod

## Other settings
unset markers              # Don't use "+" to show wrapped lines
unset metoo                # Remove my address when replying
unset suspend              # Don't stop on Ctrl-Z
unset mark_old             # Don't mark unread messages "old"
unset resolve
set edit_headers           # Make headers visible in editor
#set autoedit
set fast_reply             # do not ask for to, subject,... when replying.
set menu_scroll            # scroll on last line of menu (set) or do a nextpage?
set pager_stop             # don't go to the next mail when using next-page
set print_command="muttprint"

set sort = reverse-date
set ispell = aspell
set sleep_time = 0
set editor = "emacs"
set timeout = 10
set pager_index_lines = 5
set sendmail_wait = -1     # wait in background

# GnuPG
set pgp_decode_command="gpg %?p?--passphrase-fd 0? --no-verbose --batch --output - %f"
set pgp_verify_command="gpg --no-verbose --batch --output - --verify %s %f"
set pgp_decrypt_command="gpg --passphrase-fd 0 --no-verbose --batch --output - %f"
set pgp_sign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --detach-sign --textmode %?a?-u %a? %f"
set pgp_clearsign_command="gpg --no-verbose --batch --output - --passphrase-fd 0 --armor --textmode --clearsign %?a?-u %a? %f"
set pgp_encrypt_only_command="pgpewrap gpg --batch --quiet --no-verbose --output - --encrypt --textmode --armor --always-trust --encrypt-to 0xD2350400 -- -r %r -- %f"
set pgp_encrypt_sign_command="pgpewrap gpg --passphrase-fd 0 --batch --quiet --no-verbose --textmode --output - --encrypt --sign %?a?-u %a? --armor --always-trust --encrypt-to 0xD2350400 -- -r %r -- %f"
set pgp_import_command="gpg --no-verbose --import -v %f"
set pgp_export_command="gpg --no-verbose --export --armor %r"
set pgp_verify_key_command="gpg --no-verbose --batch --fingerprint --check-sigs %r"
set pgp_list_pubring_command="gpg --no-verbose --batch --with-colons --list-keys %r" 
set pgp_list_secring_command="gpg --no-verbose --batch --with-colons --list-secret-keys %r" 
set crypt_autosign=yes
set pgp_sign_as=0xD2350400
set crypt_replyencrypt=yes
set pgp_timeout=32767
set pgp_good_sign="^gpg: Good signature from"


## Colors
color   hdrdefault  brightcyan     default
color   header      brightwhite    default "^from:"
color   header      brightwhite    default "^subject:"

color   quoted      brightgreen    default
color   signature   brightwhite    default

color   indicator   black          green

color   error       red            default
mono    error       bold

color   status      brightcyan     default
mono    status      bold

color   tree        yellow         default

color   tilde       brightmagenta  default
color   body        brightyellow   default "^Good signature"
mono    body        bold                   "^Good signature"
color   body        brightwhite    red     "^Bad signature from.*"
mono    body        bold                   "^Bad signature from.*"
color   normal      white          default
color   message     green          default
#color   attachment  brightgreen    default

## Highlights inside the body of a message.
# URLs
color   body        brightcyan     default "(http|ftp|news|telnet|finger)://[^ \"\t\r\n]*"
color   body        brightcyan     default "mailto:[-a-z_0-9.]+@[-a-z_0-9.]+"
# email addresses
color   body        brightcyan     default "[-a-z_0-9.%$]+@[-a-z_0-9.]+\\.[-a-z][-a-z]+"
# Various smilies and the like
color   body        brightgreen    default "<[Gg]>"               # <g>
color   body        brightgreen    default "<[Bb][Gg]>"           # <bg>
color   body        brightgreen    default " [;:]-*[)>(<|]"       # :-) etc...

# Levels of replies
color   body        brightwhite    default "^>[^>].*"
color   body        brightgreen    default "^>>[^>].*"
color   body        brightmagenta  default "^>>>[^>].*"
color   body        brightred      default "^>>>>[^>].*"
